ツール仕様書: AIstoic サンダー対メタグロス特化計算機

1. 概要

1.1. ツール名

AIstoic 　サンダー対メタグロス特化計算機

1.2. 目的

ポケモン第三世代（ルビー・サファイア・エメラルド・FRLG）の対戦環境において、特定の条件下での「サンダー」と「メタグロス」の 1 対 1 対戦におけるサンダー側の勝率を算出する。

ユーザーがサンダーの育成論（努力値配分、持ち物、技など）を自由に入力し、代表的な複数のメタグロスの型に対する勝率を一覧で確認できる環境を提供することで、育成や立ち回りの考察を支援する。

1.3. 対象ユーザー

ポケモン第三世代の対戦（特にシングルバトル）に関心のあるプレイヤー。

2. 機能要件

2.1. ユーザー入力項目

ユーザーはサンダーに関する以下のパラメータを自由に設定できる。

レベル: 50 (固定)

個体値: すべて 31 (「V」) で固定

努力値:

HP (0-252)

ぼうぎょ (0-252)

とくこう (0-252)

とくぼう (0-252)

すばやさ (0-252)

※合計値が 510 を超えないように入力制限を設ける。

性格: 全 25 種類から選択。

使用する電気技:

10 まんボルト (威力 95, 命中 100%, 麻痺 10%)

かみなり (威力 120, 命中 70%, 麻痺 30%)

技「ねむる」の有無:

採用する / 採用しない

持ち物:

ラムのみ

オボンのみ

じしゃく

ひかりのこな

もちものなし

2.2. 計算対象（メタグロス）

ユーザーが設定したサンダーと対戦するメタグロスのプロファイル。以下の 3 つのベース個体と、7 種類の持ち物の組み合わせ、合計 21 パターンについて勝率を算出する。

使用技: いわなだれ (威力 75, 命中 90%, ひるみ 30%) のみを使用する。

個体値: すべて 31 (「V」) で固定。

レベル: 50 (固定)

メタグロスのベース個体

識別名

性格

努力値配分

実数値 (H-A-B-C-D-S)

耐久調整型

いじっぱり

H244, A36, B4, D164, S60

186 - 176 - 151 - \* - 131 - 98

いじっぱり HA

いじっぱり

H252, A252, S4

187 - 205 - 150 - \* - 110 - 91

いじっぱり AS

いじっぱり

A252, S252, H4

155 - 205 - 150 - \* - 110 - 122

メタグロスの持ち物

ラムのみ

オボンのみ

せんせいのツメ

こだわりハチマキ

たべのこし

ひかりのこな

もちものなし

2.3. 出力項目

入力されたサンダーの情報に基づき、上記の 21 パターンのメタグロスそれぞれに対する勝率 (%) を一覧表形式で表示する。

表示例:

メタグロス

ラムのみ

オボンのみ

せんせいのツメ

ハチマキ

たべのこし

ひかりのこな

もちものなし

耐久調整型

85.2%

79.8%

82.1%

55.4%

81.5%

88.0%

89.3%

いじっぱり HA

70.1%

65.5%

68.0%

40.2%

67.3%

73.4%

75.1%

いじっぱり AS

95.3%

92.1%

94.5%

80.8%

93.9%

96.2%

97.0%

3. 計算ロジック・仕様詳細

勝率の算出には、確率的な事象をすべて考慮したターン制バトルシミュレーションを十分な回数（例: 10,000 回）実行し、サンダーが勝利した回数の割合を求めるモンテカルロ法を用いる。

3.1. ステータス計算式

第三世代の仕様に準拠する。

HP:

(種族値 _ 2 + 個体値 + 努力値 / 4) _ レベル / 100 + 10 + レベル

攻撃・防御・特攻・特防・素早さ:

((種族値 _ 2 + 個体値 + 努力値 / 4) _ レベル / 100 + 5) \* 性格補正

性格補正: 1.1, 1.0, 0.9

3.2. ダメージ計算式

第三世代の仕様に準拠する。

ダメージ = (((攻撃側のレベル _ 2 / 5 + 2) _ 技の威力 _ 攻撃側の能力値 / 防御側の能力値 / 50) + 2) _ 補正

補正 は以下の要素をすべて掛け合わせたもの。

タイプ一致ボーナス: 1.5 (サンダーの電気技に適用)

タイプ相性:

サンダーの電気技 → メタグロス: 1.0 (こうかなし)

メタグロスの岩技 → サンダー: 2.0 (ばつぐん)

持ち物補正:

じしゃく(サンダー): 電気技の威力を 1.1 倍

こだわりハチマキ(メタグロス): 物理技(いわなだれ)の威力を 1.5 倍

乱数: 0.85 〜 1.00 の範囲 (16 段階。85, 86, ..., 100 をそれぞれ 1/16 の確率で適用)

計算の各段階で小数点以下は切り捨てる。

きゅうしょ: 1/16 の確率で発生。発生した場合、ダメージ計算式の最終ダメージが 2 倍になる。第三世代では、攻撃側のランク補正（つるぎのまい等）が良い部分、防御側のランク補正（てっぺき等）が悪い部分、リフレクター等を無視するが、今回のケースでは単純にダメージ 2 倍として扱ってよい。

3.3. 確率的要素と処理

シミュレーションの各ターンで以下の確率判定を行う。

事象

確率

備考

技の命中判定

10 まんボルト

100%

かみなり

70%

いわなだれ

90%

持ち物: ひかりのこな

相手の技の命中率を 0.9 倍にする。

持ち物: せんせいのツメ

20%

発動した場合、そのターンの行動順が先制になる。

技の追加効果

いわなだれのひるみ

30%

相手より先に攻撃した場合のみ判定。ひるんだ相手は行動不能。

10 まんボルトの麻痺

10%

かみなりの麻痺

30%

状態異常: 麻痺

行動不能

25%

ターンごとに行動できるか判定。

素早さ低下

1/4

素早さ実数値を 1/4 にして行動順を判定。

きゅうしょ

1/16 (6.25%)

ダメージ 2 倍。

乱数

1/16 (各値)

0.85 から 1.00 までの 16 段階。

3.4. 行動順決定ロジック

各ターンの開始時、両者の素早さ実数値を比較する。

「せんせいのツメ」の発動判定を行う。発動したポケモンがそのターンは先制する。両者が発動した場合、素早さが高い方が先制。

「せんせいのツメ」が発動しない場合、素早さ実数値が高い方が先制する。

麻痺状態の場合、素早さ実数値は 1/4 として計算する。

3.5. 持ち物・技の効果タイミング

ラムのみ: 麻痺状態になった瞬間に発動し、回復する。一度きり。

オボンのみ: HP が最大 HP の 1/2 以下になった瞬間に発動し、HP を 30 回復する。一度きり。

たべのこし: ターン終了時に最大 HP の 1/16 を回復する。

ねむる:

使用ロジック: サンダーの HP が最大 HP の 50%以下になった次のターン開始時に、HP が満タンでなければ、そのターンの行動として「ねむる」を必ず使用する。

効果: HP が全回復し、状態異常も回復する。そのターンを含め、2 ターンの間「ねむり」状態になる（第三世代仕様）。「ねむり」状態の間は行動できない。

3.6. バトルシミュレーションのフロー

バトル開始: 両者の HP、状態異常、持ち物を初期化。

ターン開始:

「たべのこし」の回復処理。

「ねむり」「麻痺」状態のターン経過処理。

サンダーが「ねむる」使用条件を満たしているか判定。

行動順決定: 上記「3.4. 行動順決定ロジック」に従う。

先攻側の行動:

「ねむり」「麻痺による行動不能」でないか判定。行動不能なら後攻側の行動へ。

技の命中判定（「ひかりのこな」効果を考慮）。外れたら後攻側の行動へ。

ダメージ計算（乱数、急所、各種補正を適用）。

相手の HP を減算。

相手の HP が 0 になったら、勝利判定をしてシミュレーション終了。

相手の「オボンのみ」発動判定。

技の追加効果判定（ひるみ、麻痺）。

相手が麻痺した場合、「ラムのみ」の発動判定。

後攻側の行動:

先攻側の攻撃で「ひるみ」状態になっていないか判定。ひるんでいればターン終了へ。

以降、4.と同様の処理を行う。

ターン終了: どちらかの HP が 0 になっていなければ、2.に戻る。

勝敗記録: サンダーが勝利したか敗北したかを記録する。

繰り返し: 上記 1〜7 のフローを規定回数（例: 10,000 回）繰り返し、勝率を算出する。

1. UI/UX 仕様案

レイアウト: 画面左側にサンダーの入力フォーム、右側にメタグロスとの勝率一覧表を配置する。

努力値入力補助: 努力値の合計が 510 を超えないように制御し、残りの割り振り可能な努力値を表示する。また、「252」「残り全部」などのボタンを配置すると利便性が向上する。

結果の可視化: 勝率に応じてセルの色を変化させる（例: 高勝率は緑、低勝率は赤）と、直感的に結果を把握しやすくなる。
